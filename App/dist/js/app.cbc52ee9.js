(function(t){function e(e){for(var a,s,i=e[0],c=e[1],u=e[2],d=0,f=[];d<i.length;d++)s=i[d],r[s]&&f.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},3687:function(t,e,n){},"374f":function(t,e,n){"use strict";var a=n("68b5"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s=(n("5c0b"),n("2877")),i={},c=Object(s["a"])(i,r,o,!1,null,null,null),u=c.exports,l=(n("4917"),n("8c4f")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"})},f=[],p={name:"home",components:{},mounted:function(){this.authorize()},methods:{authorize:function(){var t="56fe9ecd118c4d5699bc17e3bc7b4350",e="https://spotifytree-d8e02.firebaseapp.com/#/authorize";console.log(e);var n=this.generateRandomString(16),a="user-read-private user-read-email playlist-modify-public playlist-modify-private",r="https://accounts.spotify.com/authorize";r+="?response_type=token",r+="&client_id="+encodeURIComponent(t),r+="&scope="+encodeURIComponent(a),r+="&redirect_uri="+encodeURIComponent(e),r+="&state="+encodeURIComponent(n),window.location=r},generateRandomString:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}}},m=p,h=Object(s["a"])(m,d,f,!1,null,null,null),v=h.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommendations"},[t.hasReccomendation?[n("div",{staticClass:"recommendations--playlist"},[n("s-t-search-widget",{on:{search:t.handleSearchPlaylists}}),n("playlist",{attrs:{playlist:t.generatedPlaylist}}),n("s-t-button",{on:{click:t.handleCreatePlaylist}},[t._v("Create Playlist")])],1)]:[n("div",{staticClass:"recommendations--search-panel"},[n("s-t-search-widget",{staticClass:"recommendations--search-panel-widget",on:{search:t.handleSearchPlaylists}})],1)]],2)},g=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-widget"},[n("s-t-text-input",{staticClass:"search-widget--search",attrs:{placeholder:"Search for an artist..."},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),n("s-t-button",{staticClass:"search-widget--action",on:{click:t.handleSearch}},[t._v("Generate Playlist")])],1)},_=[],P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{staticClass:"search",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.handleInput}})},S=[],w={name:"Search",components:{},mixins:[],props:{value:{type:String,required:!0},placeholder:{type:String,default:""}},data:function(){return{}},created:function(){},mounted:function(){},updated:function(){},destroyed:function(){},watch:{},computed:{},methods:{handleInput:function(t){this.$emit("input",t.target.value)}},directives:{},filters:{}},x=w,C=Object(s["a"])(x,P,S,!1,null,null,null),T=C.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",t._g({staticClass:"button"},t.$listeners),[t._t("default")],2)},j=[],O={name:"Button",components:{},mixins:[],props:{},data:function(){return{}},created:function(){},mounted:function(){},updated:function(){},destroyed:function(){},watch:{},computed:{},methods:{},directives:{},filters:{}},R=O,$=Object(s["a"])(R,k,j,!1,null,null,null),E=$.exports,I={name:"SearchWidget",components:{STTextInput:T,STButton:E},mixins:[],props:{},data:function(){return{searchTerm:""}},created:function(){},mounted:function(){},updated:function(){},destroyed:function(){},watch:{},computed:{},methods:{handleSearch:function(){this.$emit("search",this.searchTerm)}},directives:{},filters:{}},N=I,z=(n("6e9c"),Object(s["a"])(N,b,_,!1,null,null,null)),A=z.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playlist"},[t._m(0),t._l(t.playlist,function(t){return n("song",{key:t.songId,attrs:{song:t}})})],2)},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playlist--table-head"},[n("div",{staticClass:"playlist--header"},[t._v("Song Name")]),n("div",{staticClass:"playlist--header"},[t._v("Artist")]),n("div",{staticClass:"playlist--header"},[t._v("Song Duration")])])}],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song"},[n("div",{staticClass:"song--name"},[t._v(t._s(t.song.songName))]),n("div",{staticClass:"song--artist"},[t._v(t._s(t.song.artistName))]),n("div",{staticClass:"song--duration"},[t._v(t._s(t.song.duration))]),n("div",{staticClass:"song--duration"},[n("s-t-button",{on:{click:t.handleRemoveSong}},[t._v("Remove Song")])],1)])},G=[],J={name:"Song",components:{STButton:E},mixins:[],props:{song:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){},mounted:function(){},updated:function(){},destroyed:function(){},watch:{},computed:{},methods:{handleRemoveSong:function(){this.$store.dispatch("removeSong",this.song.songId)}},directives:{},filters:{}},W=J,q=(n("374f"),Object(s["a"])(W,B,G,!1,null,null,null)),D=q.exports,F={name:"Playlist",components:{Song:D},mixins:[],props:{playlist:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},mounted:function(){},updated:function(){},destroyed:function(){},watch:{},computed:{},methods:{},directives:{},filters:{}},H=F,K=(n("fb5c"),Object(s["a"])(H,M,U,!1,null,null,null)),L=K.exports,Q={name:"Recommendations",components:{STSearchWidget:A,Playlist:L,STButton:E},mixins:[],props:{},data:function(){return{}},created:function(){},mounted:function(){},updated:function(){},destroyed:function(){},watch:{},computed:{generatedPlaylist:function(){return this.$store.getters["generatedPlaylist"]},hasReccomendation:function(){return this.$store.getters["hasReccomendation"]}},methods:{handleSearchPlaylists:function(t){var e={searchTerm:t};this.$store.dispatch("generatePlaylist",e)},handleCreatePlaylist:function(){this.$store.dispatch("createPlaylist")}},directives:{},filters:{}},V=Q,X=(n("d439"),Object(s["a"])(V,y,g,!1,null,null,null)),Y=X.exports,Z=(n("4f37"),n("6d67"),n("96cf"),n("3b8d")),tt=(n("d25f"),n("2f62")),et=n("bc3a"),nt=n.n(et);a["a"].use(tt["a"]);var at="https://spotifytree.azurewebsites.net",rt=at+"/api/home",ot=rt+"/createPlaylist",st=new tt["a"].Store({state:{auth:{},playlistName:"",generatedPlaylist:[]},mutations:{setGeneratedPlaylist:function(t,e){t.generatedPlaylist=e},removeSong:function(t,e){t.generatedPlaylist=t.generatedPlaylist.filter(function(t){return t.songId!==e})},setAuthorization:function(t,e){t.auth=e},setPlaylistName:function(t,e){t.playlistName=e}},actions:{createPlaylist:function(){var t=Object(Z["a"])(regeneratorRuntime.mark(function t(e){var n,a,r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,n=e.state,a=n.auth.accessToken,r=n.auth.tokenType,void 0!==a&&void 0!==r){t.next=5;break}return t.abrupt("return");case 5:return o={AccessToken:a,TokenType:r,PlaylistName:n.playlistName,SongIds:n.generatedPlaylist.map(function(t){return t.songUri})},t.next=8,nt()({method:"post",url:ot,headers:{"content-type":"application/json"},data:o});case 8:t.sent;case 9:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),generatePlaylist:function(){var t=Object(Z["a"])(regeneratorRuntime.mark(function t(e,n){var a,r,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,r=n.searchTerm,o={ArtistName:r.trim()},t.next=5,nt()({method:"post",url:rt,headers:{"content-type":"application/json"},data:o});case 5:s=t.sent,console.log(s),a("setPlaylistName",r),a("setGeneratedPlaylist",s.data);case 9:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),removeSong:function(t,e){var n=t.commit;n("removeSong",e)},setAuthorization:function(t,e){var n=t.commit;n("setAuthorization",e)}},getters:{hasReccomendation:function(t){return t.generatedPlaylist.length>0},generatedPlaylist:function(t){return t.generatedPlaylist}}});a["a"].use(l["a"]);var it=new l["a"]({routes:[{path:"/",name:"home",component:v},{path:"/recommendations",name:"recommendations",component:Y,beforeEnter:function(t,e,n){void 0!==st.state.auth.accessToken&&void 0!==st.state.auth.tokenType||n({name:"home"}),n()}},{path:"*",name:"home",component:v,beforeEnter:function(t,e,n){var a=/access_token=(.*)&token_type=(.*)&expires_in=(.*)&state=(.*)/,r=t.fullPath.match(a);r.length>1?(st.dispatch("setAuthorization",{accessToken:r[1],tokenType:r[2]}),n({name:"recommendations"})):n({name:"home"})}}]});a["a"].config.productionTip=!1,new a["a"]({router:it,store:st,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(t,e,n){},"68b5":function(t,e,n){},"6e9c":function(t,e,n){"use strict";var a=n("3687"),r=n.n(a);r.a},"94e0":function(t,e,n){},cf4f:function(t,e,n){},d439:function(t,e,n){"use strict";var a=n("cf4f"),r=n.n(a);r.a},fb5c:function(t,e,n){"use strict";var a=n("94e0"),r=n.n(a);r.a}});
//# sourceMappingURL=app.cbc52ee9.js.map